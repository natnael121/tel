<!-- index.html (served statically by Vercel) -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Order Dashboard</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
      body { font-family: system-ui, Arial, sans-serif; margin: 16px; }
      .card { padding: 16px; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,.08); }
      button { padding: 12px 16px; border: 0; border-radius: 10px; cursor: pointer; }
    </style>
  </head>
  <body>
    <h1>Order Dashboard</h1>
    <div class="card">
      <p id="hello"></p>
      <button id="approve">Approve Sample Order</button>
    </div>

    <script>
      const tg = window.Telegram.WebApp;
      tg.expand();

      const user = tg.initDataUnsafe?.user;
      document.getElementById('hello').textContent =
        user ? `Hello, ${user.first_name || 'there'}!` : 'Hello!';

      document.getElementById('approve').addEventListener('click', () => {
        tg.sendData(JSON.stringify({ action: 'approve', orderId: '12345678-ABCD' }));
      });

      // Optional: show a main button
      tg.MainButton.setText('Send Data');
      tg.MainButton.show();
      tg.MainButton.onClick(() => {
        tg.sendData(JSON.stringify({ ping: Date.now() }));
      });
    </script>
  </body>
</html>
